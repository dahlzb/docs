import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,e as t}from"./app-DVzxfnx2.js";const p={},e=t(`<h3 id="移动适配方案" tabindex="-1"><a class="header-anchor" href="#移动适配方案"><span>移动适配方案</span></a></h3><h5 id="line-height" tabindex="-1"><a class="header-anchor" href="#line-height"><span>line-height</span></a></h5><blockquote><p>在Android手机浏览器中，使用 <code>line-height</code> 会出现2到6px左右的偏差，具体更具手机而定</p></blockquote><h6 id="解决方案一" tabindex="-1"><a class="header-anchor" href="#解决方案一"><span>解决方案一</span></a></h6><blockquote><p>在添加了行高的元素上，添加伪元素，亲测有效</p></blockquote><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code><span class="token selector">span</span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 34px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #DFDFDF<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 26px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #3F4446<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">span::before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> middle<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="解决方案二" tabindex="-1"><a class="header-anchor" href="#解决方案二"><span>解决方案二</span></a></h6><blockquote><p>这个问题通过css是无法解决的，即使解决了也是一种通过微调来实现的hack方法，因为文字在content-area内部渲染的时候已经偏移了，而css的居中方案都是控制的整个content-area的居中。</p><p>导致这个问题的本质原因可能是Android在排版计算的时候参考了primyfont字体的相关属性（即HHead Ascent、HHead Descent等），而primyfont的查找是看 <code>font-family</code> 里哪个字体在fonts.xml里第一个匹配上，而原生Android下中文字体是没有family name的，导致匹配上的始终不是中文字体，所以解决这个问题就要在 <code>font-family</code> 里显式申明中文，或者通过什么方法保证所有字符都fallback到中文字体。根据这2个思路，目前我找到了2个解决方案：</p><ol><li>针对Android 7.0+设备： <code>&lt;html&gt;</code> 上设置 lang 属性： <code>&lt;html lang=&quot;zh-cmn-Hans&quot;&gt;</code> ，同时font-family不指定英文，如 font-family: sans-serif 。这个方法是利用了浏览器的字体fallback机制，让英文也使用中文字体来展示，blink早期的内核在fallback机制上存在问题，Android 7.0+才能ok，早期的内核下会导致英文fallback到Noto Sans Myanmar，这个字体非常丑。</li><li>针对MIUI 8.0+设备：设置 font-family: miui 。这个方案就是显式申明中文的方案，MIUI在8.0+上内置了小米兰亭，同时在fonts.xml里给这个字体指定了family name：miui，所以我们可以直接设置。</li></ol></blockquote>`,8),o=[e];function c(i,l){return a(),s("div",null,o)}const d=n(p,[["render",c],["__file","移动适配方案.html.vue"]]),k=JSON.parse(`{"path":"/frontend/%E7%A7%BB%E5%8A%A8%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88.html","title":"移动适配方案","lang":"zh-CN","frontmatter":{"title":"移动适配方案","date":"2024-04-12T17:07:05.000Z","description":"移动适配方案 line-height 在Android手机浏览器中，使用 line-height 会出现2到6px左右的偏差，具体更具手机而定 解决方案一 在添加了行高的元素上，添加伪元素，亲测有效 解决方案二 这个问题通过css是无法解决的，即使解决了也是一种通过微调来实现的hack方法，因为文字在content-area内部渲染的时候已经偏移了，而...","head":[["meta",{"property":"og:url","content":"https://dahlzb.github.io/docs/frontend/%E7%A7%BB%E5%8A%A8%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88.html"}],["meta",{"property":"og:site_name","content":"DahlZb小站"}],["meta",{"property":"og:title","content":"移动适配方案"}],["meta",{"property":"og:description","content":"移动适配方案 line-height 在Android手机浏览器中，使用 line-height 会出现2到6px左右的偏差，具体更具手机而定 解决方案一 在添加了行高的元素上，添加伪元素，亲测有效 解决方案二 这个问题通过css是无法解决的，即使解决了也是一种通过微调来实现的hack方法，因为文字在content-area内部渲染的时候已经偏移了，而..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-06T06:48:59.000Z"}],["meta",{"property":"article:author","content":"DahlZb"}],["meta",{"property":"article:published_time","content":"2024-04-12T17:07:05.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-06T06:48:59.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"移动适配方案\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-04-12T17:07:05.000Z\\",\\"dateModified\\":\\"2024-06-06T06:48:59.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"DahlZb\\",\\"url\\":\\"https://github.com/dahlzb\\"}]}"]]},"headers":[{"level":3,"title":"移动适配方案","slug":"移动适配方案","link":"#移动适配方案","children":[]}],"git":{"createdTime":1717656539000,"updatedTime":1717656539000,"contributors":[{"name":"DahlZ","email":"1304187196@qq.com","commits":1}]},"readingTime":{"minutes":1.73,"words":518},"filePathRelative":"frontend/移动适配方案.md","localizedDate":"2024年4月12日","excerpt":"<h3>移动适配方案</h3>\\n<h5>line-height</h5>\\n<blockquote>\\n<p>在Android手机浏览器中，使用 <code>line-height</code> 会出现2到6px左右的偏差，具体更具手机而定</p>\\n</blockquote>\\n<h6>解决方案一</h6>\\n<blockquote>\\n<p>在添加了行高的元素上，添加伪元素，亲测有效</p>\\n</blockquote>\\n<div class=\\"language-css\\" data-ext=\\"css\\" data-title=\\"css\\"><pre class=\\"language-css\\"><code><span class=\\"token selector\\">span</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">display</span><span class=\\"token punctuation\\">:</span> inline-block<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">height</span><span class=\\"token punctuation\\">:</span> 60px<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">line-height</span><span class=\\"token punctuation\\">:</span> 60px<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">padding</span><span class=\\"token punctuation\\">:</span> 0 34px<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">border</span><span class=\\"token punctuation\\">:</span> 1px solid #DFDFDF<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">border-radius</span><span class=\\"token punctuation\\">:</span> 8px<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">font-size</span><span class=\\"token punctuation\\">:</span> 26px<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">color</span><span class=\\"token punctuation\\">:</span> #3F4446<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n<span class=\\"token selector\\">span::before</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token property\\">content</span><span class=\\"token punctuation\\">:</span> <span class=\\"token string\\">''</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">display</span><span class=\\"token punctuation\\">:</span> inline-block<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">vertical-align</span><span class=\\"token punctuation\\">:</span> middle<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">width</span><span class=\\"token punctuation\\">:</span> 0<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">height</span><span class=\\"token punctuation\\">:</span> 100%<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token property\\">margin-top</span><span class=\\"token punctuation\\">:</span> 1px<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre></div>","autoDesc":true}`);export{d as comp,k as data};
